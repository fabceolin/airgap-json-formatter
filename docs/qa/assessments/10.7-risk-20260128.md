# Risk Profile: Story 10.7 - Theme Extension for Markdown

Date: 2026-01-28
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 4
- Critical Risks: 0
- High Risks: 0
- Risk Score: 86/100

Story 10.7 is a low-risk, foundational story that adds color properties to an existing QML singleton. No logic, no data processing, no external calls. Primary risks are accessibility (contrast) and downstream blocking.

## Risk Matrix

| Risk ID   | Description                                      | Probability | Impact     | Score | Priority |
|-----------|--------------------------------------------------|-------------|------------|-------|----------|
| BUS-001   | Downstream stories blocked by incorrect colors   | Medium (2)  | Medium (2) | 4     | Medium   |
| TECH-001  | QML property naming conflicts with existing theme | Low (1)     | Medium (2) | 2     | Low      |
| SEC-001   | WCAG contrast claims unverified                  | Medium (2)  | Low (1)    | 2     | Low      |
| OPS-001   | Missing documentation slows downstream devs      | Low (1)     | Low (1)    | 1     | Minimal  |

## Detailed Risk Register

### BUS-001: Downstream Stories Blocked by Incorrect Colors

**Score: 4 (Medium)**
**Probability**: Medium - Color choices are subjective; stories 10.5 and 10.6 depend on these definitions. If colors look poor or have insufficient contrast, rework delays dependents.
**Impact**: Medium - Rework required in this story before dependents can proceed.
**Mitigation**:
- Verify all contrast ratios with tooling before marking done
- Get visual sign-off on both themes before closing
- Strategy: preventive
**Residual Risk**: Low - Standard visual review process

### TECH-001: QML Property Naming Conflicts

**Score: 2 (Low)**
**Probability**: Low - Theme.qml is well-structured; new properties use distinct `syntax*`, `preview*`, `mermaid*` prefixes.
**Impact**: Medium - Name collision would cause QML binding errors at runtime.
**Mitigation**:
- Review existing Theme.qml properties before adding new ones
- Use consistent naming convention with markdown-specific prefixes
- Strategy: preventive
**Residual Risk**: Minimal

### SEC-001: WCAG Contrast Claims Unverified

**Score: 2 (Low)**
**Probability**: Medium - Story includes a contrast table but ratios may not have been tool-verified yet.
**Impact**: Low - Accessibility issue, not a security breach; affects usability for visually impaired users.
**Mitigation**:
- Run all color pairs through WebAIM Contrast Checker
- Document actual measured ratios
- Strategy: detective
**Residual Risk**: Minimal after verification

### OPS-001: Missing Documentation Slows Downstream Devs

**Score: 1 (Minimal)**
**Probability**: Low - Story already specifies inline comments and grouping.
**Impact**: Low - Minor slowdown for developers implementing 10.5/10.6.
**Mitigation**:
- Add JSDoc-style comments to each property group
- Strategy: preventive
**Residual Risk**: Minimal

## Risk Distribution

### By Category

- Business: 1 risk (0 critical)
- Technical: 1 risk (0 critical)
- Security: 1 risk (0 critical)
- Operational: 1 risk (0 critical)
- Performance: 0 risks
- Data: 0 risks

### By Component

- QML/Theme: 4 risks
- Backend: 0 risks
- Database: 0 risks

## Risk-Based Testing Strategy

### Priority 1: Contrast Verification (BUS-001, SEC-001)

- Verify every color pair against WCAG AA (4.5:1 for normal text, 3:1 for large text)
- Test both dark and light themes
- Use automated contrast checking tool

### Priority 2: QML Integration (TECH-001)

- Confirm Theme.qml loads without errors after additions
- Verify no property name conflicts
- Test theme toggle switches all new properties

### Priority 3: Visual Review (OPS-001)

- Visual spot-check of both themes
- Confirm documentation/comments present

## Risk Acceptance Criteria

### Must Fix Before Production

- None (no critical or high risks)

### Can Deploy with Mitigation

- BUS-001: Deploy after contrast verification complete
- SEC-001: Deploy after tool-verified contrast ratios

### Accepted Risks

- TECH-001, OPS-001: Accepted as minimal with standard dev practices

## Gate Mapping

- No risks >= 9 or >= 6
- **Gate recommendation: PASS**

---

```yaml
# risk_summary (paste into gate file):
risk_summary:
  totals:
    critical: 0
    high: 0
    medium: 1
    low: 3
  highest:
    id: BUS-001
    score: 4
    title: 'Downstream stories blocked by incorrect colors'
  recommendations:
    must_fix: []
    monitor:
      - 'Verify WCAG contrast ratios with tooling before closing story'
```

---

Risk profile: docs/qa/assessments/10.7-risk-20260128.md
